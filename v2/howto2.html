<html lang="en"><head>
    <meta charset="utf-8">
    <title>How-to</title>
    <link rel="stylesheet" type="text/css" href="https://apigee.com/css/global.css?ver=20110714-1623" />
    <link rel="stylesheet" type="text/css" href="https://apigee.com/css/header.css?ver=20110714-1623" />
    <link rel="stylesheet" type="text/css" href="https://apigee.com/css/status-messages.css?ver=20110714-1623"  />
    <link rel="stylesheet" type="text/css" href="https://apigee.com/css/source.css?ver=20110714-1623"  />
    <!--[if IE]>
      <script src="https://apigee.com/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>

    <div id="container">
      <header>
        <section id="navigation">
          <a id="logo" href="#" title="link title">
            <img src="https://apigee.com/images/apigee_logo.png" alt="apigee">
          </a>
          <nav></nav>
          <div class="clear"></div>
        </section>

        <div class="control_seperator"></div>
      </header>
      <section id="content" class="howto_content">
        <section>
          <h1>Source Setup Instructions</h1>
        	<h2><span>Step 1:</span> Create an application</h2>
        	<p>

        		An application is a collection of one or more APIs that are accessed by an application. You already have an account, so let's start by setting up your first app.
        	</p>
        	<h4>Type:</h4>
        	<p class="console">
        		create app <span class="appname">yourappname</span>
        	</p>
        </section>
        <section>

        	<h2><span>Step 2:</span> Add an API provider to this application</h2>
        	<p>
        		Now that you've created an application, you'll use an Apigee SmartKey to store and manage your application credentials. Your SmartKey will make it easy to sign API calls for Twitter in your application.
        	</p>
        	<p>
        		<em>Apigee Source only supports the Twitter API, so this is the API you'll be adding.</em>
        	</p>

        	<h4>Type:</h4>
        	<p class="console">
        		<span class="appname">yourappname</span> add provider twitter
        	</p>
        </section>
        <section>
        	<h2><span>Step 3:</span> Add Twitter consumer token and secret to your application</h2>

        	<p>
        		Now that you've added Twitter to your application SmartKey, you need to sign in to dev.twitter.com, register an application, set it up, and retrieve your consumer token and secret.
        	</p>
        	<h4>When you have retrieved your consumer token and secret, type:</h4>
        	<p class="console">
        		<span class="appname">yourappname</span> configure twitter <span class="token">token</span> <span class="secret">secret</span>

        	</p>
        	<p class="note">
        		<strong>Note:</strong> In order to retrieve your Twitter consumer token and consumer secret, you'll need to:
        	</p>
        	<ol>
        		<li>Sign in to <a href="https://dev.twitter.com/apps" title="dev.twitter.com" target="_blank">dev.twitter.com</a> (opens in a new window)</li>

        		<li>Create a new application</li>
        		<li>Set application type: Browser</li>
        		<li>Set the callback url to be: <em>https://<span class="appname">yourappname</span>-api.apigee.com/authcallback/twitter</em></li>
        		<li>Set default access type: Read/write</li>
        		<li>Set default access type: Read/write</li>

        		<li>Once you've registered, go to settings and you'll see your Consumer Token and Secret.</li>
        	</ol>
        </section>
        <section>
        	<h2><span>Step 4:</span> Add a User</h2>
        	<p>
        		In order to validate that you can make an API request with your Source application, you'll want to create a user and associate it with a Twitter account.
        	</p>

        	<p>
        		A user needs a unique username (email address ok) and password. These will be mapped to a SmartKey. 
        	</p>
        	<p>
        		You'll use a SmartKey to authorize all API calls on behalf of a user. 
        	</p>
        	<h4>Type:</h4>
        	<p class="console">
        		<span class="appname">yourappname</span> add user <span class="username">username</span> <span class="password">password</span>

        	</p>
        	<p>
        		Follow the link to begin the OAuth dance.
        	</p>
        </section>
        <section>
        	<h2><span>Step 5:</span> Add credentials to the SmartKey</h2>
        	<p>

        		Sign in with Twitter and and make this application trusted, you'll be redirected back to Apigee Source setup and your Twitter credentials will be displayed.
          </p>
        	<h4>Once you have your credentials, type:</h4>
        	<p class="console">
        		<span class="appname">yourappname</span> add twitter <span class="token">access_token</span> <span class="secret">access_token_secret</span> to smartkey <span class="smartkey">SmartKey-string</span>

        	</p>
        </section>
        <section>
        	<h2><span>Step 6:</span> Make an authenticated request to the Twitter API</h2>
        	<p>
        		Now that your SmartKey has stored the Twitter credentials for this end-user, you can make an authenticated request to validate that your source application is up and running.
        	</p><h4>Type:</h4>

        	<p class="console">
        		<span class="appname">yourappname</span> get /twitter/1/statuses/home_timeline.json?smartkey=<span class="smartkey">smartkey</span>
        	</p>
        	<h2>Go forth and applicate!</h2>
        	<p>Now that you know how to make a request using Apigee Source: </p>
        	<ol>

        		<li><a title="âª™ or fork the repo" target="_blank" href="https://github.com/apigee/Apigee-Source-for-JavaScript">Download the library from Github</a></li>
        		<li>Paste your endpoint into the sample application</li>
        		<li>Host your sample application</li>
        		<li>Log in using the end user you created above, or register as a new end user of the sample application (if you choose the latter, you'll also have to grant permission with Twitter)</li>
        		<li>See the Source app working!</li>
        	</ol>

        </section>
      </section>
    </div><!-- /container -->

    <div id="modal_container" style="display: none;">

      <section id="twitter_signin">
        <article>
          <h1 class="labs_icon">Sign in with Twitter to use <strong>Source</strong></h1>
          <p>
            Apigee Source will enable you to create single user applications with the Twitter API. In order to get started, you must sign in as a registered Twitter developer.
          </p>
          <p>
            <a href="#" title="sign in" class="button_link next_icon_green"><span>Sign in with Twitter</span></a> <strong>&nbsp;&nbsp;or&nbsp;&nbsp;<a href="#" title="cancel" class="js_hideModal">Cancel</a></strong>

          </p>
        </article>
      </section>
    </div>
    <script src="https://apigee.com/js/reorg.js" type="text/javascript"></script>
    <script src="https://apigee.com/js/boombox.js" type="text/javascript"></script>
  
</body></html>