<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Source POC</title>
    <!--[if IE]>
      <script src="javascripts/html5shiv.js" type="text/javascript"></script>
    <![endif]-->
    <script src="javascripts/jquery_min.js" type="text/javascript"></script>
    <script src="javascripts/base64_min.js" type="text/javascript"></script>
    <script src="javascripts/apigee.js" type="text/javascript"></script>
    <script type="text/javascript">
      /* <![CDATA[ */
        var endPoint = "http://api.twitter.com/1/";
        var apiRequest = "statuses/public_timeline.json";
        //var endPoint = "https://ec2-75-101-243-28.compute-1.amazonaws.com/twitter/1/";
        //var apiRequest = "statuses/home_timeline.json"; 
        var callParams = {
          "containerId" : "response_container", //(OPTIONAL, if excluded no HTML output will be written) HTML container that will be filled
          "callVerb" : "GET", //(OPTIONAL, defaults to GET) request verb
          "htmlConstruct" : "ul", //(OPTIONAL, defaults to ul) the HTML construct (ul, ol, dl, or div) that will be written
          "includeElements" : { //(OPTIONAL) protoype object demonstrating which elements to show in the rendered response
            "text" : true,
            "user" : {
              "description" : true,
              "friends_count" : true
            }
          }
          //"extraParams" : { "custom_param" : "some_data" } //(OPTIONAL) add custom header name/value pair
        };
        var sourceCall = new ComApigeeApiCaller(endPoint); //Instantiates the object
        $(document).ready(function() {
          sourceCall.callAPI(apiRequest,callParams); //Calls the API and renders the response
          //To manipulate the returned data, override the "processCall" method of your ComApigeeApiCall object (in this case, "sourceCall") before you call its "callAPI" method.  Here is a small example override, just getting the texts:
          /*
            sourceCall.processCall = function (data,containerId,htmlConstruct) {
              var outputArray = [];
              for (var key in data) {
                if (data.hasOwnProperty(key)) {
                  var val = data[key];
                  if (val.hasOwnProperty('text')) outputArray.push(val.text);
                }
              }
              $('#'+containerId).html('<ul><li>'+outputArray.join('</li><li>')+'</li></ul>');
            }
          */
        });
      /* ]]> */
    </script>
    <style type="text/css">
      * { margin: 0; padding: 0; }
      :focus { outline: 0; }
      body { 
        background-color: #fff; 
        padding: 18px 20px;
      }
      section, article, header, footer, nav, aside, hgroup { display: block; }
      #response_container ul {
        list-style-type: none;
        font-family: arial, sans-serif;
      }
      #response_container ul li {
        border: 1px solid #eaeef2;
        font-weight: bold;
        font-size: 14px;
        background-color: #fbfbfc;
        color: #0167c3;
        margin: 0 11px 5px 11px;
        display: block;
        float: left;
        clear: both;
        line-height: 21px;
        padding: 5px 9px;
      }
      #response_container ul li ul li {
        border-color: #dee2e7;
        font-size: 12px;
        font-weight: normal;
        color: #005cae;
        background-color: #f3f5f7;
        padding: 0 9px;
      }
      #response_container ul li ul li ul li {
        border-color: #d7dce3;
        color: #004380;
        background-color: #dde0e5;
      }
      #response_container ul li ul li ul li ul li {
        border-color: #c2c4c7;
        color: #012f59;
        font-size: 11px;
        background-color: #d1d4dc;
      }
      #response_container ul li ul li ul li ul li ul li {
        border-color: #b0b3b6;
        color: #011f3b;
        background-color: #c2c7d1;
      }
    </style>
  </head>
  <body>
  <a href="https://github.com/apigee/Apigee-Source-for-JavaScript"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
<h1>An example application using Apigee Source.</h1>
<p><a href="https://github.com/apigee/Apigee-Source-for-JavaScript/zipball/gh-pages">Download the framework!</a></p>
<p>Learn about Apigee Source</p>
    <div id="response_container"></div>
  </body>
</html>